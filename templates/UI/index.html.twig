{% extends "base.html.twig" %}

{% block title 'Mon profil' %}

{% block stylesheets %}
<link rel="shortcut icon" href="/source/icon.ico" type="image/x-icon">
<!-- CSS -->
<link rel="stylesheet" href="/css/dashboard.css">
<!-- FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
</script>
{% endblock %}

{% block body %}
<!-- BLOCK HEADER -->
<header class="navbar navbar-dark sticky-top flex-md-nowrap p-0 shadow" style="background: #273165;">
    <a href="{{ path('home')}}" class="navbar-brand col-md-3 col-lg-2 me-0 px-3">
        <img src="/source/logo_wht.png" alt="logo" style="width: 50%;">
    </a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <ul class="navbar-nav px-3">
        <li class="nav-item text-nowrap mr-5"><a href="#" class="nav-link" id="avatar">{{ user.username }}<i class="fa fa-user-circle-o" aria-hidden="true" style="font-size: 34px;"></i></a></li>
        <li class="nav-item text-nowrap">
            {% if app.user %}
            <a href="{{ path('logout') }}" class="logout_btn">Se déconnecter <i class="fa fa-sign-out"></i></a>
            {% endif %}
            {% if not app.user %}
            <a href="{{ path('login') }}" class="login_btn">Se connecter <i class="fa fa-sign-in"></i></a>
            {% endif %}
        </li>
    </ul>
</header>


<!-- SIDEBAR -->
<div class="container-fluid">
    <div class="row">
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="position-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="{{ path('home')}}">Accueil</a></li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link btn btn-secondary dropdown-toggle" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Profil</a>

                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                            <a href="{{ path('user.interface.index', {id:user.id})}}" class="dropdown-item">Mon profil</a>
                            <a href="{{ path('user.interface.edit', {id: user.id}) }}" class="dropdown-item">Modifier le profil</a>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="{{ path('programmation')}}">Programmation</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ path('product.index')}}">Boutique</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ path('cart.index')}}">Mon panier</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ path('contact') }}">Contactez-nous</a></li>
                </ul>
            </div>
        </nav>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <h1 class="text-center">Mon Profil</h1>

            <div class="container mt-5">
                <div class="row flex" style="height: 100vh;">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-title">
                                <h3 class="text-center">Infos Perso</h3>
                            </div>
                            <div class="card-body">
                                <p>Prénom : {{ user.firstname }}</p>
                                <p>Nom : {{ user.name }}</p>
                                <p>E-mail : {{ user.email }}</p>
                                <div class="icon-edit text-center">
                                    <a href="{{ path('user.interface.edit', {id:user.id})}}" style="text-decoration: none; color: #A065A2; font-size: 21px;"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-title">
                                <h3 class="text-center">Adresse de facturation</h3>
                            </div>
                            <div class="card-body">
                                <p>Nom : {{ user.firstname}} {{ user.name}}</p>
                                <p>Adresse : {{ user.address}}</p>
                                <p>Ville : {{ user.city}}</p>
                                <p>Code postal : {{ user.postalCode}}</p>
                                <div class="icon-edit text-center">
                                    <a href="{{ path('user.interface.edit', {id:user.id})}}" style="text-decoration: none; color: #A065A2; font-size: 21px;"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-title">
                                <h3 class="text-center">Adresse de livraison</h3>
                            </div>
                            <div class="card-body">
                                <p>Nom : {{ user.firstname}} {{ user.name}}</p>
                                <p>Adresse : {{ user.address}}</p>
                                <p>Ville : {{ user.city}}</p>
                                <p>Code postal : {{ user.postalCode}}</p>
                                <div class="icon-edit text-center">
                                    <a href="{{ path('user.interface.edit', {id:user.id})}}" style="text-decoration: none; color: #A065A2; font-size: 21px;"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
{% endblock %}
