{% extends "base.html.twig" %}

{% block title 'Dashboard' %}

{% block stylesheets %}
<link rel="shortcut icon" href="/source/icon.ico" type="image/x-icon">
<!-- CSS -->
<link rel="stylesheet" href="/css/dashboard.css">
<!-- FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
</script>
{% endblock %}

{% block body %}
<!-- HEADER BLOCK -->
<header class="navbar navbar-dark sticky-top flex-md-nowrap p-0 shadow" style="background: #273165;">
    <a href="{{ path('home')}}" class="navbar-brand col-md-3 col-lg-2 me-0 px-3">
        <img src="/source/logo_wht.png" alt="logo" style="width: 50%;">
    </a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <ul class="navbar-nav px-3">
        <li class="nav-item text-nowrap">
            {% if app.user %}
                <a href="{{ path('logout') }}" class="logout_btn">Se déconnecter <i class="fa fa-sign-out"></i></a>
            {% endif %}
            {% if not app.user %}
                <a href="{{ path('login') }}" class="login_btn">Se connecter <i class="fa fa-sign-in"></i></a>
            {% endif %}
        </li>
    </ul>
</header>

<!-- SIDEBAR MENU -->
<div class="container-fluid">
    <div class="row">
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="position-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a href="{{ path('admin.dash.index') }}" class="nav-link active" aria-current="page">
                            <i class="fa fa-home" aria-hidden="true"></i>
                            Dashboard
                        </a>
                    </li>

                    <li class="nav-item dropdown">
                        <a href="{{ path('admin.program.index')}}" class="nav-link btn btn-secondary dropdown-toggle" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                            Programme
                        </a>

                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                            <a href="{{ path('admin.program.index') }}" class="dropdown-item">Le Programme</a>
                            <a href="{{ path('admin.program.new') }}" class="dropdown-item">Ajouter une nouvelle date</a>
                            <div class="dropdown-divider"></div>
                            <a href="{{ path('admin.artiste.index')}}" class="dropdown-item"><i class="fa fa-hand-spock-o" aria-hidden="true"></i> Les Artistes</a>
                            <a href="{{ path('admin.artiste.new') }}" class="dropdown-item">Ajouter un nouvel artiste</a>
                        </div>
                    </li>

                    <li class="nav-item dropdown">
                        <a href="{{ path('admin.product.index')}}" class="nav-link btn btn-secondary dropdown-toggle" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                            Produits
                        </a>

                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                            <a href="{{ path('admin.product.index')}}" class="dropdown-item">Les Produits</a>
                            <a href="{{ path('admin.product.new')}}" class="dropdown-item">Ajouter un nouveau produit</a>
                        </div>

                    </li>

                    <li class="nav-item dropdown">
                        <a href="{{ path('admin.partenaires.index')}}" class="nav-link btn btn-secondary dropdown-toggle" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fa fa-globe" aria-hidden="true"></i>
                            Partenaires
                        </a>

                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                            <a href="{{ path('admin.partenaires.index')}}" class="dropdown-item">Les Partenaires</a>
                            <a href="{{ path('admin.partenaires.new')}}" class="dropdown-item">Ajouter un nouveau partenaire</a>
                            <div class="dropdown-divider"></div>
                            <a href="{{ path('admin.categories.index')}}" class="dropdown-item"><i class="fa fa-object-group" aria-hidden="true"></i> Les Catégories</a>
                            <a href="{{ path('admin.categories.new') }}" class="dropdown-item">Ajouter une nouvelle catégorie</a>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span data-feather="bar-chart-2"></span>
                            Rapports
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <span data-feather="layers"></span>
                            Integrations
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div
                class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">Dashboard</h1>
            </div>

            <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>

            <script>
                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [
                            'Janvier',
                            'Février',
                            'Mars',
                            'Avril',
                            'Mai',
                            'Juin',
                            'Juillet',
                            'Août',
                            'Septembre',
                            'Octobre',
                            'Novembre',
                            'Décembre'
                        ],
                        datasets: [{
                            label: 'Article vendue',
                            data: [13, 17, 8, 13, 8, 34, 21, 5, 3, 8, 11, 12],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 3
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>

            <!-- Voir pour mettre les KPI les plus pertinents et effacer les commandes -->
            <h2>Commandes</h2>
            <div class="table-responsive">
                <table class="table table-striped table-sm">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Prénom</th>
                            <th>Nom</th>
                            <th>Date</th>
                            <th>Commentaire</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1,001</td>
                            <td>Jean</td>
                            <td>Durant</td>
                            <td>12/03/21</td>
                            <td>Pass 1 jour</td>
                        </tr>
                        <tr>
                            <td>1,002</td>
                            <td>Patrick</td>
                            <td>Ivery</td>
                            <td>12/04/21</td>
                            <td>Sweet + Pass 2 jours</td>
                        </tr>
                        <tr>
                            <td>1,003</td>
                            <td>David</td>
                            <td>Richard</td>
                            <td>30/03/21</td>
                            <td>Pass 1 jour</td>
                        </tr>
                        <tr>
                            <td>1,003</td>
                            <td>Ilona</td>
                            <td>Pasquet</td>
                            <td>23/04/21</td>
                            <td>Pass 3 jours + t-shirt</td>
                        </tr>
                        <tr>
                            <td>1,004</td>
                            <td>Thierry</td>
                            <td>Randon</td>
                            <td>13/02/21</td>
                            <td>2 place 2 jours + 2 mugs</td>
                        </tr>
                        <tr>
                            <td>1,005</td>
                            <td>Dimitri</td>
                            <td>Irre</td>
                            <td>31/01/21</td>
                            <td>Pass 3 jours + affiche</td>
                        </tr>
                        <tr>
                            <td>1,006</td>
                            <td>Damien</td>
                            <td>Amaury</td>
                            <td>11/03/21</td>
                            <td>Casquette + pass 1 jours</td>
                        </tr>
                        <tr>
                            <td>1,007</td>
                            <td>Patricia</td>
                            <td>Tabuu</td>
                            <td>03/05/21</td>
                            <td>Pass 2 jours + 1 sweet + 1 mug</td>
                        </tr>
                        <tr>
                            <td>1,008</td>
                            <td>Robert</td>
                            <td>Datan</td>
                            <td>04/05/21</td>
                            <td>T-shirt + Pass 1 jour</td>
                        </tr>
                        <tr>
                            <td>1,009</td>
                            <td>Piotr</td>
                            <td>Urrelevant</td>
                            <td>24/04/21</td>
                            <td>Pass 2 jours</td>
                        </tr>
                        <tr>
                            <td>1,010</td>
                            <td>David</td>
                            <td>Rich</td>
                            <td>04/05/21</td>
                            <td>T-shirt + pass 3 jours + affiche</td>
                        </tr>
                        <tr>
                            <td>1,011</td>
                            <td>Irène</td>
                            <td>Place</td>
                            <td>09/05/21</td>
                            <td>Pass 1 jour</td>
                        </tr>
                        <tr>
                            <td>1,012</td>
                            <td>Tatiana</td>
                            <td>Holder</td>
                            <td>05/05/21</td>
                            <td>Pass 2 jours</td>
                        </tr>
                        <tr>
                            <td>1,013</td>
                            <td>Daryl</td>
                            <td>Irrelevant</td>
                            <td>26/04/21</td>
                            <td>1 Mug, Pass 2 jours, 1 sweet, 1 casquette</td>
                        </tr>
                        <tr>
                            <td>1,014</td>
                            <td>Dana</td>
                            <td>Yllu</td>
                            <td>28/04/21</td>
                            <td>4 Tshirt, Pass 3 jours</td>
                        </tr>
                        <tr>
                            <td>1,015</td>
                            <td>Rachel</td>
                            <td>Tabular</td>
                            <td>30/04/21</td>
                            <td>Pass 2 jours</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </main>
    </div>
</div>
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}